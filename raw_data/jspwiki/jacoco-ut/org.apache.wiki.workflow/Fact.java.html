<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>Fact.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Apache JSPWiki Main Jar</a> &gt; <a href="index.source.html" class="el_package">org.apache.wiki.workflow</a> &gt; <span class="el_source">Fact.java</span></div><h1>Fact.java</h1><pre class="source lang-java linenums">/* 
    Licensed to the Apache Software Foundation (ASF) under one
    or more contributor license agreements.  See the NOTICE file
    distributed with this work for additional information
    regarding copyright ownership.  The ASF licenses this file
    to you under the Apache License, Version 2.0 (the
    &quot;License&quot;); you may not use this file except in compliance
    with the License.  You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

    Unless required by applicable law or agreed to in writing,
    software distributed under the License is distributed on an
    &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, either express or implied.  See the License for the
    specific language governing permissions and limitations
    under the License.  
 */
package org.apache.wiki.workflow;

import java.io.Serializable;

/**
 * Represents a contextual artifact, which can be any serializable object, useful for making
 * a Decision. Facts are key-value pairs, where the key is a String (message
 * key) and the value is an arbitrary object. Generally, the supplied object's
 * {@link #toString()} method should return a human-readable String. Facts are
 * immutable objects.
 * 
 * @since 2.5
 */
public final class Fact implements Serializable
{
    private static final long serialVersionUID = -7459432935402796978L;

    private final String m_key;

    private final Serializable m_obj;

    /**
     * Constructs a new Fact with a supplied message key and value.
     * 
     * @param messageKey
     *            the &quot;name&quot; of this fact, which should be an i18n message key
     * @param value
     *            the object to associate with the name
     */
    public Fact(String messageKey, Serializable value)
<span class="fc" id="L49">    {</span>
<span class="pc bpc" id="L50" title="2 of 4 branches missed.">        if ( messageKey == null || value == null )</span>
        {
<span class="nc" id="L52">            throw new IllegalArgumentException( &quot;Fact message key or value parameters must not be null.&quot; );</span>
        }
<span class="fc" id="L54">        m_key = messageKey;</span>
<span class="fc" id="L55">        m_obj = value;</span>
<span class="fc" id="L56">    }</span>

    /**
     * Returns this Fact's name, as represented an i18n message key.
     * @return the message key
     */
    public String getMessageKey()
    {
<span class="fc" id="L64">        return m_key;</span>
    }

    /**
     * Returns this Fact's value.
     * @return the value object
     */
    public Serializable getValue()
    {
<span class="fc" id="L73">        return m_obj;</span>
    }
    
    /**
     * Two Facts are considered equal if their message keys and value objects are equal.
     * @param obj the object to test
     * @return &lt;code&gt;true&lt;/code&gt; if logically equal, &lt;code&gt;false&lt;/code&gt; if not
     */
    public boolean equals( Object obj )
    {
<span class="pc bpc" id="L83" title="1 of 2 branches missed.">        if ( !( obj instanceof Fact ) ) </span>
        {
<span class="nc" id="L85">            return false;</span>
        }
        
<span class="fc" id="L88">        Fact f = (Fact)obj;</span>
<span class="pc bpc" id="L89" title="2 of 4 branches missed.">        return m_key.equals( f.m_key) &amp;&amp; m_obj.equals( f.m_obj );</span>
    }
    
    /**
     * {@inheritDoc}
     */
    public int hashCode()
    {
<span class="nc" id="L97">        return m_key.hashCode() + 41 * m_obj.hashCode();</span>
    }

    /**
     * Returns a String representation of this Fact.
     * @return the representation
     */
    public String toString()
    {
<span class="nc" id="L106">        return &quot;[Fact:&quot; + m_obj.toString() + &quot;]&quot;;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>