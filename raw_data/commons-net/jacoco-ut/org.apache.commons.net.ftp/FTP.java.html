<?xml version="1.0" encoding="iso-8859-1"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="zh"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>FTP.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">Apache Commons Net</a> &gt; <a href="index.source.html" class="el_package">org.apache.commons.net.ftp</a> &gt; <span class="el_source">FTP.java</span></div><h1>FTP.java</h1><pre class="source lang-java linenums">/*
 * Licensed to the Apache Software Foundation (ASF) under one or more
 * contributor license agreements.  See the NOTICE file distributed with
 * this work for additional information regarding copyright ownership.
 * The ASF licenses this file to You under the Apache License, Version 2.0
 * (the &quot;License&quot;); you may not use this file except in compliance with
 * the License.  You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

package org.apache.commons.net.ftp;
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.IOException;
import java.io.InputStreamReader;
import java.io.OutputStreamWriter;
import java.io.Reader;
import java.net.Inet4Address;
import java.net.Inet6Address;
import java.net.InetAddress;
import java.net.SocketException;
import java.net.SocketTimeoutException;
import java.util.ArrayList;

import org.apache.commons.net.MalformedServerReplyException;
import org.apache.commons.net.ProtocolCommandSupport;
import org.apache.commons.net.SocketClient;
import org.apache.commons.net.io.CRLFLineReader;

/***
 * FTP provides the basic the functionality necessary to implement your
 * own FTP client.  It extends org.apache.commons.net.SocketClient since
 * extending TelnetClient was causing unwanted behavior (like connections
 * that did not time out properly).
 * &lt;p&gt;
 * To derive the full benefits of the FTP class requires some knowledge
 * of the FTP protocol defined in RFC 959.  However, there is no reason
 * why you should have to use the FTP class.  The
 * {@link org.apache.commons.net.ftp.FTPClient} class,
 * derived from FTP,
 * implements all the functionality required of an FTP client.  The
 * FTP class is made public to provide access to various FTP constants
 * and to make it easier for adventurous programmers (or those with
 * special needs) to interact with the FTP protocol and implement their
 * own clients.  A set of methods with names corresponding to the FTP
 * command names are provided to facilitate this interaction.
 * &lt;p&gt;
 * You should keep in mind that the FTP server may choose to prematurely
 * close a connection if the client has been idle for longer than a
 * given time period (usually 900 seconds).  The FTP class will detect a
 * premature FTP server connection closing when it receives a
 * {@link org.apache.commons.net.ftp.FTPReply#SERVICE_NOT_AVAILABLE FTPReply.SERVICE_NOT_AVAILABLE }
 *  response to a command.
 * When that occurs, the FTP class method encountering that reply will throw
 * an {@link org.apache.commons.net.ftp.FTPConnectionClosedException}
 * .  &lt;code&gt;FTPConectionClosedException&lt;/code&gt;
 * is a subclass of &lt;code&gt; IOException &lt;/code&gt; and therefore need not be
 * caught separately, but if you are going to catch it separately, its
 * catch block must appear before the more general &lt;code&gt; IOException &lt;/code&gt;
 * catch block.  When you encounter an
 * {@link org.apache.commons.net.ftp.FTPConnectionClosedException}
 * , you must disconnect the connection with
 * {@link #disconnect  disconnect() } to properly clean up the
 * system resources used by FTP.  Before disconnecting, you may check the
 * last reply code and text with
 * {@link #getReplyCode  getReplyCode },
 * {@link #getReplyString  getReplyString },
 * and {@link #getReplyStrings  getReplyStrings}.
 * You may avoid server disconnections while the client is idle by
 * periodicaly sending NOOP commands to the server.
 * &lt;p&gt;
 * Rather than list it separately for each method, we mention here that
 * every method communicating with the server and throwing an IOException
 * can also throw a
 * {@link org.apache.commons.net.MalformedServerReplyException}
 * , which is a subclass
 * of IOException.  A MalformedServerReplyException will be thrown when
 * the reply received from the server deviates enough from the protocol
 * specification that it cannot be interpreted in a useful manner despite
 * attempts to be as lenient as possible.
 *
 * @see FTPClient
 * @see FTPConnectionClosedException
 * @see org.apache.commons.net.MalformedServerReplyException
 * @version $Id$
 ***/

public class FTP extends SocketClient
{
    /*** The default FTP data port (20). ***/
    public static final int DEFAULT_DATA_PORT = 20;
    /*** The default FTP control port (21). ***/
    public static final int DEFAULT_PORT = 21;

    /***
     * A constant used to indicate the file(s) being transferred should
     * be treated as ASCII.  This is the default file type.  All constants
     * ending in &lt;code&gt;FILE_TYPE&lt;/code&gt; are used to indicate file types.
     ***/
    public static final int ASCII_FILE_TYPE = 0;

    /***
     * A constant used to indicate the file(s) being transferred should
     * be treated as EBCDIC.  Note however that there are several different
     * EBCDIC formats.  All constants ending in &lt;code&gt;FILE_TYPE&lt;/code&gt;
     * are used to indicate file types.
     ***/
    public static final int EBCDIC_FILE_TYPE = 1;


    /***
     * A constant used to indicate the file(s) being transferred should
     * be treated as a binary image, i.e., no translations should be
     * performed.  All constants ending in &lt;code&gt;FILE_TYPE&lt;/code&gt; are used to
     * indicate file types.
     ***/
    public static final int BINARY_FILE_TYPE = 2;

    /***
     * A constant used to indicate the file(s) being transferred should
     * be treated as a local type.  All constants ending in
     * &lt;code&gt;FILE_TYPE&lt;/code&gt; are used to indicate file types.
     ***/
    public static final int LOCAL_FILE_TYPE = 3;

    /***
     * A constant used for text files to indicate a non-print text format.
     * This is the default format.
     * All constants ending in &lt;code&gt;TEXT_FORMAT&lt;/code&gt; are used to indicate
     * text formatting for text transfers (both ASCII and EBCDIC).
     ***/
    public static final int NON_PRINT_TEXT_FORMAT = 4;

    /***
     * A constant used to indicate a text file contains format vertical format
     * control characters.
     * All constants ending in &lt;code&gt;TEXT_FORMAT&lt;/code&gt; are used to indicate
     * text formatting for text transfers (both ASCII and EBCDIC).
     ***/
    public static final int TELNET_TEXT_FORMAT = 5;

    /***
     * A constant used to indicate a text file contains ASA vertical format
     * control characters.
     * All constants ending in &lt;code&gt;TEXT_FORMAT&lt;/code&gt; are used to indicate
     * text formatting for text transfers (both ASCII and EBCDIC).
     ***/
    public static final int CARRIAGE_CONTROL_TEXT_FORMAT = 6;

    /***
     * A constant used to indicate a file is to be treated as a continuous
     * sequence of bytes.  This is the default structure.  All constants ending
     * in &lt;code&gt;_STRUCTURE&lt;/code&gt; are used to indicate file structure for
     * file transfers.
     ***/
    public static final int FILE_STRUCTURE = 7;

    /***
     * A constant used to indicate a file is to be treated as a sequence
     * of records.  All constants ending in &lt;code&gt;_STRUCTURE&lt;/code&gt;
     * are used to indicate file structure for file transfers.
     ***/
    public static final int RECORD_STRUCTURE = 8;

    /***
     * A constant used to indicate a file is to be treated as a set of
     * independent indexed pages.  All constants ending in
     * &lt;code&gt;_STRUCTURE&lt;/code&gt; are used to indicate file structure for file
     * transfers.
     ***/
    public static final int PAGE_STRUCTURE = 9;

    /***
     * A constant used to indicate a file is to be transferred as a stream
     * of bytes.  This is the default transfer mode.  All constants ending
     * in &lt;code&gt;TRANSFER_MODE&lt;/code&gt; are used to indicate file transfer
     * modes.
     ***/
    public static final int STREAM_TRANSFER_MODE = 10;

    /***
     * A constant used to indicate a file is to be transferred as a series
     * of blocks.  All constants ending in &lt;code&gt;TRANSFER_MODE&lt;/code&gt; are used
     * to indicate file transfer modes.
     ***/
    public static final int BLOCK_TRANSFER_MODE = 11;

    /***
     * A constant used to indicate a file is to be transferred as FTP
     * compressed data.  All constants ending in &lt;code&gt;TRANSFER_MODE&lt;/code&gt;
     * are used to indicate file transfer modes.
     ***/
    public static final int COMPRESSED_TRANSFER_MODE = 12;

    // We have to ensure that the protocol communication is in ASCII
    // but we use ISO-8859-1 just in case 8-bit characters cross
    // the wire.
    /**
     * The default character encoding used for communicating over an
     * FTP control connection.  The default encoding is an
     * ASCII-compatible encoding.  Some FTP servers expect other
     * encodings.  You can change the encoding used by an FTP instance
     * with {@link #setControlEncoding setControlEncoding}.
     */
    public static final String DEFAULT_CONTROL_ENCODING = &quot;ISO-8859-1&quot;;

    /** Length of the FTP reply code (3 alphanumerics) */
    public static final int REPLY_CODE_LEN = 3;

    private static final String __modes = &quot;AEILNTCFRPSBC&quot;;

    protected int _replyCode;
    protected ArrayList&lt;String&gt; _replyLines;
    protected boolean _newReplyString;
    protected String _replyString;
    protected String _controlEncoding;

    /**
     * A ProtocolCommandSupport object used to manage the registering of
     * ProtocolCommandListeners and te firing of ProtocolCommandEvents.
     */
    protected ProtocolCommandSupport _commandSupport_;

    /**
     * This is used to signal whether a block of multiline responses beginning
     * with xxx must be terminated by the same numeric code xxx
     * See section 4.2 of RFC 959 for details.
     */
<span class="fc" id="L236">    protected boolean strictMultilineParsing = false;</span>

    /**
     * If this is true, then non-multiline replies must have the format:
     * 3 digit code &lt;space&gt; &lt;text&gt;
     * If false, then the 3 digit code does not have to be followed by space
     * See section 4.2 of RFC 959 for details.
     */
<span class="fc" id="L244">    private boolean strictReplyParsing = true;</span>

    /**
     * Wraps SocketClient._input_ to facilitate the reading of text
     * from the FTP control connection.  Do not access the control
     * connection via SocketClient._input_.  This member starts
     * with a null value, is initialized in {@link #_connectAction_},
     * and set to null in {@link #disconnect}.
     */
    protected BufferedReader _controlInput_;

    /**
     * Wraps SocketClient._output_ to facilitate the writing of text
     * to the FTP control connection.  Do not access the control
     * connection via SocketClient._output_.  This member starts
     * with a null value, is initialized in {@link #_connectAction_},
     * and set to null in {@link #disconnect}.
     */
    protected BufferedWriter _controlOutput_;

    /***
     * The default FTP constructor.  Sets the default port to
     * &lt;code&gt;DEFAULT_PORT&lt;/code&gt; and initializes internal data structures
     * for saving FTP reply information.
     ***/
    public FTP()
    {
<span class="fc" id="L271">        super();</span>
<span class="fc" id="L272">        setDefaultPort(DEFAULT_PORT);</span>
<span class="fc" id="L273">        _replyLines = new ArrayList&lt;String&gt;();</span>
<span class="fc" id="L274">        _newReplyString = false;</span>
<span class="fc" id="L275">        _replyString = null;</span>
<span class="fc" id="L276">        _controlEncoding = DEFAULT_CONTROL_ENCODING;</span>
<span class="fc" id="L277">        _commandSupport_ = new ProtocolCommandSupport(this);</span>
<span class="fc" id="L278">    }</span>

    // The RFC-compliant multiline termination check
    private boolean __strictCheck(String line, String code) {
<span class="nc bnc" id="L282" title="All 4 branches missed.">        return (!(line.startsWith(code) &amp;&amp; line.charAt(REPLY_CODE_LEN) == ' '));</span>
    }

    // The strict check is too strong a condition because of non-conforming ftp
    // servers like ftp.funet.fi which sent 226 as the last line of a
    // 426 multi-line reply in response to ls /.  We relax the condition to
    // test that the line starts with a digit rather than starting with
    // the code.
    private boolean __lenientCheck(String line) {
<span class="nc bnc" id="L291" title="All 4 branches missed.">        return (!(line.length() &gt; REPLY_CODE_LEN&amp;&amp; line.charAt(REPLY_CODE_LEN) != '-' &amp;&amp;</span>
<span class="nc bnc" id="L292" title="All 2 branches missed.">                Character.isDigit(line.charAt(0))));</span>
    }

    /**
     * Get the reply, and pass it to command listeners
     */
    private void __getReply()  throws IOException
    {
<span class="nc" id="L300">        __getReply(true);</span>
<span class="nc" id="L301">    }</span>

    /**
     * Get the reply, but don't pass it to command listeners.
     * Used for keep-alive processing only.
     * @since 3.0
     * @throws IOException on error
     */
    protected void __getReplyNoReport()  throws IOException
    {
<span class="nc" id="L311">        __getReply(false);</span>
<span class="nc" id="L312">    }</span>

    private void __getReply(boolean reportReply) throws IOException
    {
        int length;

<span class="nc" id="L318">        _newReplyString = true;</span>
<span class="nc" id="L319">        _replyLines.clear();</span>

<span class="nc" id="L321">        String line = _controlInput_.readLine();</span>

<span class="nc bnc" id="L323" title="All 2 branches missed.">        if (line == null) {</span>
<span class="nc" id="L324">            throw new FTPConnectionClosedException(</span>
                    &quot;Connection closed without indication.&quot;);
        }

        // In case we run into an anomaly we don't want fatal index exceptions
        // to be thrown.
<span class="nc" id="L330">        length = line.length();</span>
<span class="nc bnc" id="L331" title="All 2 branches missed.">        if (length &lt; REPLY_CODE_LEN) {</span>
<span class="nc" id="L332">            throw new MalformedServerReplyException(</span>
                &quot;Truncated server reply: &quot; + line);
        }

<span class="nc" id="L336">        String code = null;</span>
        try
        {
<span class="nc" id="L339">            code = line.substring(0, REPLY_CODE_LEN);</span>
<span class="nc" id="L340">            _replyCode = Integer.parseInt(code);</span>
        }
<span class="nc" id="L342">        catch (NumberFormatException e)</span>
        {
<span class="nc" id="L344">            throw new MalformedServerReplyException(</span>
                &quot;Could not parse response code.\nServer Reply: &quot; + line);
<span class="nc" id="L346">        }</span>

<span class="nc" id="L348">        _replyLines.add(line);</span>

        // Check the server reply type
<span class="nc bnc" id="L351" title="All 2 branches missed.">        if (length &gt; REPLY_CODE_LEN) {</span>
<span class="nc" id="L352">            char sep = line.charAt(REPLY_CODE_LEN);</span>
            // Get extra lines if message continues.
<span class="nc bnc" id="L354" title="All 2 branches missed.">            if (sep == '-') {</span>
                do
                {
<span class="nc" id="L357">                    line = _controlInput_.readLine();</span>

<span class="nc bnc" id="L359" title="All 2 branches missed.">                    if (line == null) {</span>
<span class="nc" id="L360">                        throw new FTPConnectionClosedException(</span>
                            &quot;Connection closed without indication.&quot;);
                    }

<span class="nc" id="L364">                    _replyLines.add(line);</span>

                    // The length() check handles problems that could arise from readLine()
                    // returning too soon after encountering a naked CR or some other
                    // anomaly.
                }
<span class="nc bnc" id="L370" title="All 6 branches missed.">                while ( isStrictMultilineParsing() ? __strictCheck(line, code) : __lenientCheck(line));</span>

<span class="nc bnc" id="L372" title="All 2 branches missed.">            } else if (isStrictReplyParsing()) {</span>
<span class="nc bnc" id="L373" title="All 2 branches missed.">                if (length == REPLY_CODE_LEN + 1) { // expecting some text</span>
<span class="nc" id="L374">                    throw new MalformedServerReplyException(&quot;Truncated server reply: '&quot; + line +&quot;'&quot;);</span>
<span class="nc bnc" id="L375" title="All 2 branches missed.">                } else if (sep != ' ') {</span>
<span class="nc" id="L376">                    throw new MalformedServerReplyException(&quot;Invalid server reply: '&quot; + line +&quot;'&quot;);</span>
                }
            }
<span class="nc bnc" id="L379" title="All 2 branches missed.">        } else if (isStrictReplyParsing()) {</span>
<span class="nc" id="L380">            throw new MalformedServerReplyException(&quot;Truncated server reply: '&quot; + line +&quot;'&quot;);</span>
        }

<span class="nc bnc" id="L383" title="All 2 branches missed.">        if (reportReply) {</span>
<span class="nc" id="L384">            fireReplyReceived(_replyCode, getReplyString());</span>
        }

<span class="nc bnc" id="L387" title="All 2 branches missed.">        if (_replyCode == FTPReply.SERVICE_NOT_AVAILABLE) {</span>
<span class="nc" id="L388">            throw new FTPConnectionClosedException(&quot;FTP response 421 received.  Server closed connection.&quot;);</span>
        }
<span class="nc" id="L390">    }</span>

    /**
     * Initiates control connections and gets initial reply.
     * Initializes {@link #_controlInput_} and {@link #_controlOutput_}.
     */
    @Override
    protected void _connectAction_() throws IOException
    {
<span class="nc" id="L399">        _connectAction_(null);</span>
<span class="nc" id="L400">    }</span>


    /**
     * Initiates control connections and gets initial reply.
     * Initializes {@link #_controlInput_} and {@link #_controlOutput_}.
     *
     * @param socketIsReader the reader to reuse (if non-null)
     * @throws IOException on error
     * @since 3.4
     */
    protected void _connectAction_(Reader socketIsReader) throws IOException {
<span class="nc" id="L412">        super._connectAction_(); // sets up _input_ and _output_</span>
<span class="nc bnc" id="L413" title="All 2 branches missed.">        if(socketIsReader == null) {</span>
<span class="nc" id="L414">            _controlInput_ =</span>
<span class="nc" id="L415">                    new CRLFLineReader(new InputStreamReader(_input_, getControlEncoding()));</span>
        } else {
<span class="nc" id="L417">            _controlInput_ = new CRLFLineReader(socketIsReader);</span>
        }
<span class="nc" id="L419">        _controlOutput_ =</span>
<span class="nc" id="L420">            new BufferedWriter(new OutputStreamWriter(_output_, getControlEncoding()));</span>
<span class="nc bnc" id="L421" title="All 2 branches missed.">        if (connectTimeout &gt; 0) { // NET-385</span>
<span class="nc" id="L422">            int original = _socket_.getSoTimeout();</span>
<span class="nc" id="L423">            _socket_.setSoTimeout(connectTimeout);</span>
            try {
<span class="nc" id="L425">                __getReply();</span>
                // If we received code 120, we have to fetch completion reply.
<span class="nc bnc" id="L427" title="All 2 branches missed.">                if (FTPReply.isPositivePreliminary(_replyCode)) {</span>
<span class="nc" id="L428">                    __getReply();</span>
                }
<span class="nc" id="L430">            } catch (SocketTimeoutException e) {</span>
<span class="nc" id="L431">                IOException ioe = new IOException(&quot;Timed out waiting for initial connect reply&quot;);</span>
<span class="nc" id="L432">                ioe.initCause(e);</span>
<span class="nc" id="L433">                throw ioe;</span>
            } finally {
<span class="nc" id="L435">                _socket_.setSoTimeout(original);</span>
            }
<span class="nc" id="L437">        } else {</span>
<span class="nc" id="L438">            __getReply();</span>
            // If we received code 120, we have to fetch completion reply.
<span class="nc bnc" id="L440" title="All 2 branches missed.">            if (FTPReply.isPositivePreliminary(_replyCode)) {</span>
<span class="nc" id="L441">                __getReply();</span>
            }
        }
<span class="nc" id="L444">    }</span>


    /**
     * Saves the character encoding to be used by the FTP control connection.
     * Some FTP servers require that commands be issued in a non-ASCII
     * encoding like UTF-8 so that filenames with multi-byte character
     * representations (e.g, Big 8) can be specified.
     * &lt;p&gt;
     * Please note that this has to be set before the connection is established.
     *
     * @param encoding The new character encoding for the control connection.
     */
    public void setControlEncoding(String encoding) {
<span class="nc" id="L458">        _controlEncoding = encoding;</span>
<span class="nc" id="L459">    }</span>


    /**
     * @return The character encoding used to communicate over the
     * control connection.
     */
    public String getControlEncoding() {
<span class="nc" id="L467">        return _controlEncoding;</span>
    }


    /***
     * Closes the control connection to the FTP server and sets to null
     * some internal data so that the memory may be reclaimed by the
     * garbage collector.  The reply text and code information from the
     * last command is voided so that the memory it used may be reclaimed.
     * Also sets {@link #_controlInput_} and {@link #_controlOutput_} to null.
     *
     * @throws IOException If an error occurs while disconnecting.
     ***/
    @Override
    public void disconnect() throws IOException
    {
<span class="nc" id="L483">        super.disconnect();</span>
<span class="nc" id="L484">        _controlInput_ = null;</span>
<span class="nc" id="L485">        _controlOutput_ = null;</span>
<span class="nc" id="L486">        _newReplyString = false;</span>
<span class="nc" id="L487">        _replyString = null;</span>
<span class="nc" id="L488">    }</span>


    /***
     * Sends an FTP command to the server, waits for a reply and returns the
     * numerical response code.  After invocation, for more detailed
     * information, the actual reply text can be accessed by calling
     * {@link #getReplyString  getReplyString } or
     * {@link #getReplyStrings  getReplyStrings }.
     *
     * @param command  The text representation of the  FTP command to send.
     * @param args The arguments to the FTP command.  If this parameter is
     *             set to null, then the command is sent with no argument.
     * @return The integer value of the FTP reply code returned by the server
     *         in response to the command.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int sendCommand(String command, String args) throws IOException
    {
<span class="nc bnc" id="L513" title="All 2 branches missed.">        if (_controlOutput_ == null) {</span>
<span class="nc" id="L514">            throw new IOException(&quot;Connection is not open&quot;);</span>
        }

<span class="nc" id="L517">        final String message = __buildMessage(command, args);</span>

<span class="nc" id="L519">        __send(message);</span>

<span class="nc" id="L521">        fireCommandSent(command, message);</span>

<span class="nc" id="L523">        __getReply();</span>
<span class="nc" id="L524">        return _replyCode;</span>
    }

    private String __buildMessage(String command, String args) {
<span class="nc" id="L528">        final StringBuilder __commandBuffer = new StringBuilder();</span>

<span class="nc" id="L530">        __commandBuffer.append(command);</span>

<span class="nc bnc" id="L532" title="All 2 branches missed.">        if (args != null)</span>
        {
<span class="nc" id="L534">            __commandBuffer.append(' ');</span>
<span class="nc" id="L535">            __commandBuffer.append(args);</span>
        }
<span class="nc" id="L537">        __commandBuffer.append(SocketClient.NETASCII_EOL);</span>
<span class="nc" id="L538">        return __commandBuffer.toString();</span>
    }

    private void __send(String message) throws IOException,
            FTPConnectionClosedException, SocketException {
        try{
<span class="nc" id="L544">            _controlOutput_.write(message);</span>
<span class="nc" id="L545">            _controlOutput_.flush();</span>
        }
<span class="nc" id="L547">        catch (SocketException e)</span>
        {
<span class="nc bnc" id="L549" title="All 2 branches missed.">            if (!isConnected())</span>
            {
<span class="nc" id="L551">                throw new FTPConnectionClosedException(&quot;Connection unexpectedly closed.&quot;);</span>
            }
            else
            {
<span class="nc" id="L555">                throw e;</span>
            }
<span class="nc" id="L557">        }</span>
<span class="nc" id="L558">    }</span>

    /**
     * Send a noop and get the reply without reporting to the command listener.
     * Intended for use with keep-alive.
     *
     * @throws IOException on error
     * @since 3.0
     */
    protected void __noop() throws IOException {
<span class="nc" id="L568">        String msg = __buildMessage(FTPCmd.NOOP.getCommand(), null);</span>
<span class="nc" id="L569">        __send(msg);</span>
<span class="nc" id="L570">        __getReplyNoReport(); // This may timeout</span>
<span class="nc" id="L571">    }</span>

    /***
     * Sends an FTP command to the server, waits for a reply and returns the
     * numerical response code.  After invocation, for more detailed
     * information, the actual reply text can be accessed by calling
     * {@link #getReplyString  getReplyString } or
     * {@link #getReplyStrings  getReplyStrings }.
     *
     * @param command  The FTPCommand constant corresponding to the FTP command
     *                 to send.
     * @param args The arguments to the FTP command.  If this parameter is
     *             set to null, then the command is sent with no argument.
     * @return The integer value of the FTP reply code returned by the server
     *         in response to the command.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @deprecated (3.3) Use {@link #sendCommand(FTPCmd, String)} instead
     ***/
    @Deprecated
    public int sendCommand(int command, String args) throws IOException
    {
<span class="nc" id="L598">        return sendCommand(FTPCommand.getCommand(command), args);</span>
    }

    /**
     * Sends an FTP command to the server, waits for a reply and returns the
     * numerical response code.  After invocation, for more detailed
     * information, the actual reply text can be accessed by calling
     * {@link #getReplyString  getReplyString } or
     * {@link #getReplyStrings  getReplyStrings }.
     *
     * @param command  The FTPCmd enum corresponding to the FTP command
     *                 to send.
     * @return The integer value of the FTP reply code returned by the server
     *         in response to the command.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @since 3.3
     */
    public int sendCommand(FTPCmd command)  throws IOException{
<span class="nc" id="L622">        return sendCommand(command, null);</span>
    }

    /**
     * Sends an FTP command to the server, waits for a reply and returns the
     * numerical response code.  After invocation, for more detailed
     * information, the actual reply text can be accessed by calling
     * {@link #getReplyString  getReplyString } or
     * {@link #getReplyStrings  getReplyStrings }.
     *
     * @param command  The FTPCmd enum corresponding to the FTP command
     *                 to send.
     * @param args The arguments to the FTP command.  If this parameter is
     *             set to null, then the command is sent with no argument.
     * @return The integer value of the FTP reply code returned by the server
     *         in response to the command.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @since 3.3
     */
    public int sendCommand(FTPCmd command, String args)  throws IOException{
<span class="nc" id="L648">        return sendCommand(command.getCommand(), args);</span>
    }

    /***
     * Sends an FTP command with no arguments to the server, waits for a
     * reply and returns the numerical response code.  After invocation, for
     * more detailed information, the actual reply text can be accessed by
     * calling {@link #getReplyString  getReplyString } or
     * {@link #getReplyStrings  getReplyStrings }.
     *
     * @param command  The text representation of the  FTP command to send.
     * @return The integer value of the FTP reply code returned by the server
     *         in response to the command.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int sendCommand(String command) throws IOException
    {
<span class="nc" id="L671">        return sendCommand(command, null);</span>
    }


    /***
     * Sends an FTP command with no arguments to the server, waits for a
     * reply and returns the numerical response code.  After invocation, for
     * more detailed information, the actual reply text can be accessed by
     * calling {@link #getReplyString  getReplyString } or
     * {@link #getReplyStrings  getReplyStrings }.
     *
     * @param command  The FTPCommand constant corresponding to the FTP command
     *                 to send.
     * @return The integer value of the FTP reply code returned by the server
     *         in response to the command.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int sendCommand(int command) throws IOException
    {
<span class="nc" id="L696">        return sendCommand(command, null);</span>
    }


    /***
     * Returns the integer value of the reply code of the last FTP reply.
     * You will usually only use this method after you connect to the
     * FTP server to check that the connection was successful since
     * &lt;code&gt; connect &lt;/code&gt; is of type void.
     *
     * @return The integer value of the reply code of the last FTP reply.
     ***/
    public int getReplyCode()
    {
<span class="nc" id="L710">        return _replyCode;</span>
    }

    /***
     * Fetches a reply from the FTP server and returns the integer reply
     * code.  After calling this method, the actual reply text can be accessed
     * from either  calling {@link #getReplyString  getReplyString } or
     * {@link #getReplyStrings  getReplyStrings }.  Only use this
     * method if you are implementing your own FTP client or if you need to
     * fetch a secondary response from the FTP server.
     *
     * @return The integer value of the reply code of the fetched FTP reply.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while receiving the
     *                         server reply.
     ***/
    public int getReply() throws IOException
    {
<span class="nc" id="L732">        __getReply();</span>
<span class="nc" id="L733">        return _replyCode;</span>
    }


    /***
     * Returns the lines of text from the last FTP server response as an array
     * of strings, one entry per line.  The end of line markers of each are
     * stripped from each line.
     *
     * @return The lines of text from the last FTP response as an array.
     ***/
    public String[] getReplyStrings()
    {
<span class="nc" id="L746">        return _replyLines.toArray(new String[_replyLines.size()]);</span>
    }

    /***
     * Returns the entire text of the last FTP server response exactly
     * as it was received, including all end of line markers in NETASCII
     * format.
     *
     * @return The entire text from the last FTP response as a String.
     ***/
    public String getReplyString()
    {
        StringBuilder buffer;

<span class="nc bnc" id="L760" title="All 2 branches missed.">        if (!_newReplyString) {</span>
<span class="nc" id="L761">            return _replyString;</span>
        }

<span class="nc" id="L764">        buffer = new StringBuilder(256);</span>

<span class="nc bnc" id="L766" title="All 2 branches missed.">        for (String line : _replyLines) {</span>
<span class="nc" id="L767">                buffer.append(line);</span>
<span class="nc" id="L768">                buffer.append(SocketClient.NETASCII_EOL);</span>
<span class="nc" id="L769">        }</span>

<span class="nc" id="L771">         _newReplyString = false;</span>

<span class="nc" id="L773">        return (_replyString = buffer.toString());</span>
    }


    /***
     * A convenience method to send the FTP USER command to the server,
     * receive the reply, and return the reply code.
     *
     * @param username  The username to login under.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int user(String username) throws IOException
    {
<span class="nc" id="L793">        return sendCommand(FTPCmd.USER, username);</span>
    }

    /**
     * A convenience method to send the FTP PASS command to the server,
     * receive the reply, and return the reply code.
     * @param password The plain text password of the username being logged into.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     */
    public int pass(String password) throws IOException
    {
<span class="nc" id="L811">        return sendCommand(FTPCmd.PASS, password);</span>
    }

    /***
     * A convenience method to send the FTP ACCT command to the server,
     * receive the reply, and return the reply code.
     *
     * @param account  The account name to access.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int acct(String account) throws IOException
    {
<span class="nc" id="L830">        return sendCommand(FTPCmd.ACCT, account);</span>
    }


    /***
     * A convenience method to send the FTP ABOR command to the server,
     * receive the reply, and return the reply code.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int abor() throws IOException
    {
<span class="nc" id="L849">        return sendCommand(FTPCmd.ABOR);</span>
    }

    /***
     * A convenience method to send the FTP CWD command to the server,
     * receive the reply, and return the reply code.
     *
     * @param directory The new working directory.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int cwd(String directory) throws IOException
    {
<span class="nc" id="L868">        return sendCommand(FTPCmd.CWD, directory);</span>
    }

    /***
     * A convenience method to send the FTP CDUP command to the server,
     * receive the reply, and return the reply code.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int cdup() throws IOException
    {
<span class="nc" id="L886">        return sendCommand(FTPCmd.CDUP);</span>
    }

    /***
     * A convenience method to send the FTP QUIT command to the server,
     * receive the reply, and return the reply code.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int quit() throws IOException
    {
<span class="nc" id="L904">        return sendCommand(FTPCmd.QUIT);</span>
    }

    /***
     * A convenience method to send the FTP REIN command to the server,
     * receive the reply, and return the reply code.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int rein() throws IOException
    {
<span class="nc" id="L922">        return sendCommand(FTPCmd.REIN);</span>
    }

    /***
     * A convenience method to send the FTP SMNT command to the server,
     * receive the reply, and return the reply code.
     *
     * @param dir  The directory name.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int smnt(String dir) throws IOException
    {
<span class="nc" id="L941">        return sendCommand(FTPCmd.SMNT, dir);</span>
    }

    /***
     * A convenience method to send the FTP PORT command to the server,
     * receive the reply, and return the reply code.
     *
     * @param host  The host owning the port.
     * @param port  The new port.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int port(InetAddress host, int port) throws IOException
    {
        int num;
<span class="nc" id="L962">        StringBuilder info = new StringBuilder(24);</span>

<span class="nc" id="L964">        info.append(host.getHostAddress().replace('.', ','));</span>
<span class="nc" id="L965">        num = port &gt;&gt;&gt; 8;</span>
<span class="nc" id="L966">        info.append(',');</span>
<span class="nc" id="L967">        info.append(num);</span>
<span class="nc" id="L968">        info.append(',');</span>
<span class="nc" id="L969">        num = port &amp; 0xff;</span>
<span class="nc" id="L970">        info.append(num);</span>

<span class="nc" id="L972">        return sendCommand(FTPCmd.PORT, info.toString());</span>
    }

    /***
     * A convenience method to send the FTP EPRT command to the server,
     * receive the reply, and return the reply code.
     *
     * Examples:
     * &lt;ul&gt;
     * &lt;li&gt;EPRT |1|132.235.1.2|6275|&lt;/li&gt;
     * &lt;li&gt;EPRT |2|1080::8:800:200C:417A|5282|&lt;/li&gt;
     * &lt;/ul&gt;
     *
     * @see &quot;http://www.faqs.org/rfcs/rfc2428.html&quot;
     *
     * @param host  The host owning the port.
     * @param port  The new port.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @since 2.2
     ***/
    public int eprt(InetAddress host, int port) throws IOException
    {
        int num;
<span class="nc" id="L1002">        StringBuilder info = new StringBuilder();</span>
        String h;

        // If IPv6, trim the zone index
<span class="nc" id="L1006">        h = host.getHostAddress();</span>
<span class="nc" id="L1007">        num = h.indexOf(&quot;%&quot;);</span>
<span class="nc bnc" id="L1008" title="All 2 branches missed.">        if (num &gt; 0) {</span>
<span class="nc" id="L1009">            h = h.substring(0, num);</span>
        }

<span class="nc" id="L1012">        info.append(&quot;|&quot;);</span>

<span class="nc bnc" id="L1014" title="All 2 branches missed.">        if (host instanceof Inet4Address) {</span>
<span class="nc" id="L1015">            info.append(&quot;1&quot;);</span>
<span class="nc bnc" id="L1016" title="All 2 branches missed.">        } else if (host instanceof Inet6Address) {</span>
<span class="nc" id="L1017">            info.append(&quot;2&quot;);</span>
        }
<span class="nc" id="L1019">        info.append(&quot;|&quot;);</span>
<span class="nc" id="L1020">        info.append(h);</span>
<span class="nc" id="L1021">        info.append(&quot;|&quot;);</span>
<span class="nc" id="L1022">        info.append(port);</span>
<span class="nc" id="L1023">        info.append(&quot;|&quot;);</span>

<span class="nc" id="L1025">        return sendCommand(FTPCmd.EPRT, info.toString());</span>
    }

    /***
     * A convenience method to send the FTP PASV command to the server,
     * receive the reply, and return the reply code.  Remember, it's up
     * to you to interpret the reply string containing the host/port
     * information.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int pasv() throws IOException
    {
<span class="nc" id="L1045">        return sendCommand(FTPCmd.PASV);</span>
    }

     /***
     * A convenience method to send the FTP EPSV command to the server,
     * receive the reply, and return the reply code.  Remember, it's up
     * to you to interpret the reply string containing the host/port
     * information.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @since 2.2
     ***/
    public int epsv() throws IOException
    {
<span class="nc" id="L1066">        return sendCommand(FTPCmd.EPSV);</span>
    }

    /**
     * A convenience method to send the FTP TYPE command for text files
     * to the server, receive the reply, and return the reply code.
     * @param fileType  The type of the file (one of the &lt;code&gt;FILE_TYPE&lt;/code&gt;
     *              constants).
     * @param formatOrByteSize  The format of the file (one of the
     *              &lt;code&gt;_FORMAT&lt;/code&gt; constants.  In the case of
     *              &lt;code&gt;LOCAL_FILE_TYPE&lt;/code&gt;, the byte size.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     */
    public int type(int fileType, int formatOrByteSize) throws IOException
    {
<span class="nc" id="L1088">        StringBuilder arg = new StringBuilder();</span>

<span class="nc" id="L1090">        arg.append(__modes.charAt(fileType));</span>
<span class="nc" id="L1091">        arg.append(' ');</span>
<span class="nc bnc" id="L1092" title="All 2 branches missed.">        if (fileType == LOCAL_FILE_TYPE) {</span>
<span class="nc" id="L1093">            arg.append(formatOrByteSize);</span>
        } else {
<span class="nc" id="L1095">            arg.append(__modes.charAt(formatOrByteSize));</span>
        }

<span class="nc" id="L1098">        return sendCommand(FTPCmd.TYPE, arg.toString());</span>
    }


    /**
     * A convenience method to send the FTP TYPE command to the server,
     * receive the reply, and return the reply code.
     *
     * @param fileType  The type of the file (one of the &lt;code&gt;FILE_TYPE&lt;/code&gt;
     *              constants).
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     */
    public int type(int fileType) throws IOException
    {
<span class="nc" id="L1119">        return sendCommand(FTPCmd.TYPE,</span>
<span class="nc" id="L1120">                           __modes.substring(fileType, fileType + 1));</span>
    }

    /***
     * A convenience method to send the FTP STRU command to the server,
     * receive the reply, and return the reply code.
     *
     * @param structure  The structure of the file (one of the
     *         &lt;code&gt;_STRUCTURE&lt;/code&gt; constants).
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int stru(int structure) throws IOException
    {
<span class="nc" id="L1140">        return sendCommand(FTPCmd.STRU,</span>
<span class="nc" id="L1141">                           __modes.substring(structure, structure + 1));</span>
    }

    /***
     * A convenience method to send the FTP MODE command to the server,
     * receive the reply, and return the reply code.
     *
     * @param mode  The transfer mode to use (one of the
     *         &lt;code&gt;TRANSFER_MODE&lt;/code&gt; constants).
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int mode(int mode) throws IOException
    {
<span class="nc" id="L1161">        return sendCommand(FTPCmd.MODE,</span>
<span class="nc" id="L1162">                           __modes.substring(mode, mode + 1));</span>
    }

    /***
     * A convenience method to send the FTP RETR command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @param pathname  The pathname of the file to retrieve.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int retr(String pathname) throws IOException
    {
<span class="nc" id="L1184">        return sendCommand(FTPCmd.RETR, pathname);</span>
    }

    /***
     * A convenience method to send the FTP STOR command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @param pathname  The pathname to use for the file when stored at
     *                  the remote end of the transfer.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int stor(String pathname) throws IOException
    {
<span class="nc" id="L1207">        return sendCommand(FTPCmd.STOR, pathname);</span>
    }

    /***
     * A convenience method to send the FTP STOU command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int stou() throws IOException
    {
<span class="nc" id="L1228">        return sendCommand(FTPCmd.STOU);</span>
    }

    /***
     * A convenience method to send the FTP STOU command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     * @param pathname  The base pathname to use for the file when stored at
     *                  the remote end of the transfer.  Some FTP servers
     *                  require this.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     */
    public int stou(String pathname) throws IOException
    {
<span class="nc" id="L1251">        return sendCommand(FTPCmd.STOU, pathname);</span>
    }

    /***
     * A convenience method to send the FTP APPE command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @param pathname  The pathname to use for the file when stored at
     *                  the remote end of the transfer.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int appe(String pathname) throws IOException
    {
<span class="nc" id="L1274">        return sendCommand(FTPCmd.APPE, pathname);</span>
    }

    /***
     * A convenience method to send the FTP ALLO command to the server,
     * receive the reply, and return the reply code.
     *
     * @param bytes The number of bytes to allocate.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int allo(int bytes) throws IOException
    {
<span class="nc" id="L1293">        return sendCommand(FTPCmd.ALLO, Integer.toString(bytes));</span>
    }

    /**
     * A convenience method to send the FTP FEAT command to the server, receive the reply,
     * and return the reply code.
     * @return The reply code received by the server
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @since 2.2
     */
    public int feat() throws IOException
    {
<span class="nc" id="L1306">        return sendCommand(FTPCmd.FEAT);</span>
    }

    /***
     * A convenience method to send the FTP ALLO command to the server,
     * receive the reply, and return the reply code.
     *
     * @param bytes The number of bytes to allocate.
     * @param recordSize  The size of a record.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int allo(int bytes, int recordSize) throws IOException
    {
<span class="nc" id="L1326">        return sendCommand(FTPCmd.ALLO, Integer.toString(bytes) + &quot; R &quot; +</span>
<span class="nc" id="L1327">                           Integer.toString(recordSize));</span>
    }

    /***
     * A convenience method to send the FTP REST command to the server,
     * receive the reply, and return the reply code.
     *
     * @param marker The marker at which to restart a transfer.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int rest(String marker) throws IOException
    {
<span class="nc" id="L1346">        return sendCommand(FTPCmd.REST, marker);</span>
    }


    /**
     * @param file name of file
     * @return the status
     * @throws IOException on error
     * @since 2.0
     **/
    public int mdtm(String file) throws IOException
    {
<span class="nc" id="L1358">        return sendCommand(FTPCmd.MDTM, file);</span>
    }


    /**
     * A convenience method to send the FTP MFMT command to the server,
     * receive the reply, and return the reply code.
     *
     * @param pathname The pathname for which mtime is to be changed
     * @param timeval Timestamp in &lt;code&gt;YYYYMMDDhhmmss&lt;/code&gt; format
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @since 2.2
     * @see &lt;a href=&quot;http://tools.ietf.org/html/draft-somers-ftp-mfxx-04&quot;&gt;http://tools.ietf.org/html/draft-somers-ftp-mfxx-04&lt;/a&gt;
     **/
    public int mfmt(String pathname, String timeval) throws IOException
    {
<span class="nc" id="L1381">        return sendCommand(FTPCmd.MFMT, timeval + &quot; &quot; + pathname);</span>
    }


    /***
     * A convenience method to send the FTP RNFR command to the server,
     * receive the reply, and return the reply code.
     *
     * @param pathname The pathname to rename from.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int rnfr(String pathname) throws IOException
    {
<span class="nc" id="L1401">        return sendCommand(FTPCmd.RNFR, pathname);</span>
    }

    /***
     * A convenience method to send the FTP RNTO command to the server,
     * receive the reply, and return the reply code.
     *
     * @param pathname The pathname to rename to
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int rnto(String pathname) throws IOException
    {
<span class="nc" id="L1420">        return sendCommand(FTPCmd.RNTO, pathname);</span>
    }

    /***
     * A convenience method to send the FTP DELE command to the server,
     * receive the reply, and return the reply code.
     *
     * @param pathname The pathname to delete.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int dele(String pathname) throws IOException
    {
<span class="nc" id="L1439">        return sendCommand(FTPCmd.DELE, pathname);</span>
    }

    /***
     * A convenience method to send the FTP RMD command to the server,
     * receive the reply, and return the reply code.
     *
     * @param pathname The pathname of the directory to remove.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int rmd(String pathname) throws IOException
    {
<span class="nc" id="L1458">        return sendCommand(FTPCmd.RMD, pathname);</span>
    }

    /***
     * A convenience method to send the FTP MKD command to the server,
     * receive the reply, and return the reply code.
     *
     * @param pathname The pathname of the new directory to create.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int mkd(String pathname) throws IOException
    {
<span class="nc" id="L1477">        return sendCommand(FTPCmd.MKD, pathname);</span>
    }

    /***
     * A convenience method to send the FTP PWD command to the server,
     * receive the reply, and return the reply code.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int pwd() throws IOException
    {
<span class="nc" id="L1495">        return sendCommand(FTPCmd.PWD);</span>
    }

    /***
     * A convenience method to send the FTP LIST command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int list() throws IOException
    {
<span class="nc" id="L1516">        return sendCommand(FTPCmd.LIST);</span>
    }

    /***
     * A convenience method to send the FTP LIST command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @param pathname  The pathname to list,
     * may be {@code null} in which case the command is sent with no parameters
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int list(String pathname) throws IOException
    {
<span class="nc" id="L1539">        return sendCommand(FTPCmd.LIST, pathname);</span>
    }

    /**
     * A convenience method to send the FTP MLSD command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @since 3.0
     */
    public int mlsd() throws IOException
    {
<span class="nc" id="L1561">        return sendCommand(FTPCmd.MLSD);</span>
    }

    /**
     * A convenience method to send the FTP MLSD command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @param path the path to report on
     * @return The reply code received from the server,
     * may be {@code null} in which case the command is sent with no parameters
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @since 3.0
     */
    public int mlsd(String path) throws IOException
    {
<span class="nc" id="L1585">        return sendCommand(FTPCmd.MLSD, path);</span>
    }

    /**
     * A convenience method to send the FTP MLST command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @since 3.0
     */
    public int mlst() throws IOException
    {
<span class="nc" id="L1607">        return sendCommand(FTPCmd.MLST);</span>
    }

    /**
     * A convenience method to send the FTP MLST command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @param path the path to report on
     * @return The reply code received from the server,
     * may be {@code null} in which case the command is sent with no parameters
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     * @since 3.0
     */
    public int mlst(String path) throws IOException
    {
<span class="nc" id="L1631">        return sendCommand(FTPCmd.MLST, path);</span>
    }

    /***
     * A convenience method to send the FTP NLST command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int nlst() throws IOException
    {
<span class="nc" id="L1652">        return sendCommand(FTPCmd.NLST);</span>
    }

    /***
     * A convenience method to send the FTP NLST command to the server,
     * receive the reply, and return the reply code.  Remember, it is up
     * to you to manage the data connection.  If you don't need this low
     * level of access, use {@link org.apache.commons.net.ftp.FTPClient}
     * , which will handle all low level details for you.
     *
     * @param pathname  The pathname to list,
     * may be {@code null} in which case the command is sent with no parameters
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int nlst(String pathname) throws IOException
    {
<span class="nc" id="L1675">        return sendCommand(FTPCmd.NLST, pathname);</span>
    }

    /***
     * A convenience method to send the FTP SITE command to the server,
     * receive the reply, and return the reply code.
     *
     * @param parameters  The site parameters to send.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int site(String parameters) throws IOException
    {
<span class="nc" id="L1694">        return sendCommand(FTPCmd.SITE, parameters);</span>
    }

    /***
     * A convenience method to send the FTP SYST command to the server,
     * receive the reply, and return the reply code.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int syst() throws IOException
    {
<span class="nc" id="L1712">        return sendCommand(FTPCmd.SYST);</span>
    }

    /***
     * A convenience method to send the FTP STAT command to the server,
     * receive the reply, and return the reply code.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int stat() throws IOException
    {
<span class="nc" id="L1730">        return sendCommand(FTPCmd.STAT);</span>
    }

    /***
     * A convenience method to send the FTP STAT command to the server,
     * receive the reply, and return the reply code.
     *
     * @param pathname  A pathname to list.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int stat(String pathname) throws IOException
    {
<span class="nc" id="L1749">        return sendCommand(FTPCmd.STAT, pathname);</span>
    }

    /***
     * A convenience method to send the FTP HELP command to the server,
     * receive the reply, and return the reply code.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int help() throws IOException
    {
<span class="nc" id="L1767">        return sendCommand(FTPCmd.HELP);</span>
    }

    /***
     * A convenience method to send the FTP HELP command to the server,
     * receive the reply, and return the reply code.
     *
     * @param command  The command name on which to request help.
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int help(String command) throws IOException
    {
<span class="nc" id="L1786">        return sendCommand(FTPCmd.HELP, command);</span>
    }

    /***
     * A convenience method to send the FTP NOOP command to the server,
     * receive the reply, and return the reply code.
     *
     * @return The reply code received from the server.
     * @throws FTPConnectionClosedException
     *      If the FTP server prematurely closes the connection as a result
     *      of the client being idle or some other reason causing the server
     *      to send FTP reply code 421.  This exception may be caught either
     *      as an IOException or independently as itself.
     * @throws IOException  If an I/O error occurs while either sending the
     *      command or receiving the server reply.
     ***/
    public int noop() throws IOException
    {
<span class="nc" id="L1804">        return sendCommand(FTPCmd.NOOP);</span>
    }

    /**
     * Return whether strict multiline parsing is enabled, as per RFC 959, section 4.2.
     * @return True if strict, false if lenient
     * @since 2.0
     */
    public boolean isStrictMultilineParsing() {
<span class="nc" id="L1813">        return strictMultilineParsing;</span>
    }

    /**
     * Set strict multiline parsing.
     * @param strictMultilineParsing the setting
     * @since 2.0
     */
    public void setStrictMultilineParsing(boolean strictMultilineParsing) {
<span class="nc" id="L1822">        this.strictMultilineParsing = strictMultilineParsing;</span>
<span class="nc" id="L1823">    }</span>

    /**
     * Return whether strict non-multiline parsing is enabled, as per RFC 959, section 4.2.
     * &lt;p&gt;
     * The default is true, which requires the 3 digit code be followed by space and some text.
     * &lt;br&gt;
     * If false, only the 3 digit code is required (as was the case for versions up to 3.5)
     * &lt;br&gt;
     * @return True if strict (default), false if additional checks are not made
     * @since 3.6
     */
    public boolean isStrictReplyParsing() {
<span class="nc" id="L1836">        return strictReplyParsing;</span>
    }

    /**
     * Set strict non-multiline parsing.
     * &lt;p&gt;
     * If true, it requires the 3 digit code be followed by space and some text.
     * &lt;br&gt;
     * If false, only the 3 digit code is required (as was the case for versions up to 3.5)
     * &lt;p&gt;
     * &lt;b&gt;This should not be required by a well-behaved FTP server&lt;/b&gt;
     * &lt;br&gt;
     * @param strictReplyParsing the setting
     * @since 3.6
     */
    public void setStrictReplyParsing(boolean strictReplyParsing) {
<span class="nc" id="L1852">        this.strictReplyParsing = strictReplyParsing;</span>
<span class="nc" id="L1853">    }</span>

    /**
     * Provide command support to super-class
     */
    @Override
    protected ProtocolCommandSupport getCommandSupport() {
<span class="fc" id="L1860">        return _commandSupport_;</span>
    }
}

/* Emacs configuration
 * Local variables:        **
 * mode:             java  **
 * c-basic-offset:   4     **
 * indent-tabs-mode: nil   **
 * End:                    **
 */
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>